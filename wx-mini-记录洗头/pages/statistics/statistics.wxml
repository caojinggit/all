<!-- statistics.wxml -->
<view class="container">
  <!-- æ°´å½©äº‘æœµèƒŒæ™¯ -->
  <view class="cloud-bg"></view>
  
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-title">
    <view class="title-text">æ´—å‘ç»Ÿè®¡</view>
    <view class="title-decoration"></view>
  </view>
  
  <!-- æ•°æ®æ¦‚è§ˆå¡ç‰‡ -->
  <view class="stats-card">
    <view class="stats-item">
      <view class="stats-value">{{weekWashCount}}</view>
      <view class="stats-label">æœ¬å‘¨æ´—å‘</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{monthWashCount}}</view>
      <view class="stats-label">æœ¬æœˆæ´—å‘</view>
    </view>
    <view class="stats-item">
      <view class="stats-value">{{averageInterval}}å¤©</view>
      <view class="stats-label">å¹³å‡é—´éš”</view>
    </view>
  </view>
  
  <!-- å®šæ—¶æé†’è®¾ç½® -->
  <view class="reminder-container">
    <view class="section-title">å®šæ—¶æé†’è®¾ç½®</view>
    <view class="reminder-settings">
      <!-- å¼€å…³æŒ‰é’® -->
      <view class="switch-item">
        <view class="switch-label">å¼€å¯æé†’</view>
        <switch checked="{{reminderEnabled}}" bindchange="toggleReminder" color="#FFB3C1"></switch>
      </view>
      
      <!-- æé†’ç±»å‹é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled ? 'disabled' : ''}}">
        <view class="form-label">æé†’æ–¹å¼</view>
        <picker mode="selector" value="{{reminderTypeIndex}}" range="{{reminderTypes}}" bindchange="changeReminderType" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{reminderTypes[reminderTypeIndex]}}</view>
            <view class="picker-icon">â°</view>
          </view>
        </picker>
      </view>
      
      <!-- æ¯å¤©æé†’æ—¶é—´é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 0 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 0}}">
        <view class="form-label">æé†’æ—¶é—´</view>
        <picker mode="time" value="{{reminderTime}}" bindchange="changeReminderTime" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{reminderTime}}</view>
            <view class="picker-icon">ğŸ•’</view>
          </view>
        </picker>
      </view>
      
      <!-- æ¯å‘¨æé†’æ—¥æœŸé€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 1 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 1}}">
        <view class="form-label">æé†’æ—¥æœŸ</view>
        <picker mode="selector" value="{{reminderWeekdayIndex}}" range="{{weekdays}}" bindchange="changeReminderWeekday" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{weekdays[reminderWeekdayIndex]}}</view>
            <view class="picker-icon">ğŸ“…</view>
          </view>
        </picker>
      </view>
      
      <!-- æ¯å‘¨æé†’æ—¶é—´é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 1 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 1}}">
        <view class="form-label">æé†’æ—¶é—´</view>
        <picker mode="time" value="{{reminderTime}}" bindchange="changeReminderTime" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{reminderTime}}</view>
            <view class="picker-icon">ğŸ•’</view>
          </view>
        </picker>
      </view>
      
      <!-- æ¯æœˆæé†’æ—¥æœŸé€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 2 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 2}}">
        <view class="form-label">æé†’æ—¥æœŸ</view>
        <picker mode="selector" value="{{reminderMonthDayIndex}}" range="{{monthDays}}" bindchange="changeReminderMonthDay" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{monthDays[reminderMonthDayIndex]}}å·</view>
            <view class="picker-icon">ğŸ“†</view>
          </view>
        </picker>
      </view>
      
      <!-- æ¯æœˆæé†’æ—¶é—´é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 2 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 2}}">
        <view class="form-label">æé†’æ—¶é—´</view>
        <picker mode="time" value="{{reminderTime}}" bindchange="changeReminderTime" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{reminderTime}}</view>
            <view class="picker-icon">ğŸ•’</view>
          </view>
        </picker>
      </view>
      
      <!-- é—´éš”å¤©æ•°é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 3 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 3}}">
        <view class="form-label">é—´éš”å¤©æ•°</view>
        <picker mode="selector" value="{{reminderIntervalIndex}}" range="{{intervalDays}}" bindchange="changeReminderInterval" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{intervalDays[reminderIntervalIndex]}}å¤©</view>
            <view class="picker-icon">ğŸ”„</view>
          </view>
        </picker>
      </view>
      
      <!-- é—´éš”å¤©æ•°æé†’æ—¶é—´é€‰æ‹© -->
      <view class="form-item {{!reminderEnabled || reminderTypeIndex != 3 ? 'disabled' : ''}}" wx:if="{{reminderTypeIndex == 3}}">
        <view class="form-label">æé†’æ—¶é—´</view>
        <picker mode="time" value="{{reminderTime}}" bindchange="changeReminderTime" disabled="{{!reminderEnabled}}">
          <view class="picker-wrapper">
            <view class="picker-value">{{reminderTime}}</view>
            <view class="picker-icon">ğŸ•’</view>
          </view>
        </picker>
      </view>
      
      <!-- æ˜¾ç¤ºä¸‹æ¬¡æé†’æ—¶é—´ -->
      <view class="next-reminder {{!reminderEnabled ? 'disabled' : ''}}">
        <view class="next-reminder-label">ä¸‹æ¬¡æé†’æ—¶é—´</view>
        <view class="next-reminder-value">{{nextReminderDate || 'æš‚æ— æé†’'}}</view>
      </view>
    </view>
  </view>

  
  <!-- æˆå°±ç³»ç»Ÿï¼šå¾½ç« å¢™ -->
  <view class="achievements">
    <view class="section-title">æˆ‘çš„æˆå°±</view>
    <view class="badges-wall">
      <view class="badge {{item.unlocked ? 'unlocked' : 'locked'}}" 
            wx:for="{{badges}}" 
            wx:key="id"
            bindtap="showBadgeDetail"
            data-badge="{{item}}">
        <view class="badge-icon">{{item.icon}}</view>
        <view class="badge-name">{{item.name}}</view>
      </view>
    </view>
  </view>
  
  <!-- è´´çº¸æ”¶é›†å†Œ -->
  <view class="sticker-collection">
    <view class="section-title">è´´çº¸æ”¶é›†</view>
    <view class="stickers-grid">
      <view class="sticker {{item.collected ? 'collected' : 'uncollected'}}" 
            wx:for="{{stickers}}" 
            wx:key="id">
        <view class="sticker-image">{{item.collected ? item.emoji : '?'}}</view>
      </view>
    </view>
  </view>
</view>